import{a as c,j as e,H as y,r as x,b as j,y as t}from"./app-kKseVrtb.js";function m({categories:p,products:o}){const[r,a]=c.useState(null),[d,g]=c.useState({}),l=r?o.filter(s=>s.category_id===r):o,h=async s=>{const n=d[s]||1;try{const i=await j.post("/api/v1/cart/items",{product_id:s,quantity:parseInt(n)});i.data.success?t.success("Producto agregado al carrito"):t.error(i.data.message||"No se pudo agregar el producto")}catch(i){t.error(i.response?.data?.message||i.message||"No se pudo agregar el producto")}},u=(s,n)=>{g(i=>({...i,[s]:parseInt(n)||1}))};return e.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[e.jsx(y,{title:"Menú"}),e.jsx("h1",{children:"Menú - Testing"}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("button",{onClick:()=>x.visit(route("cart.index")),style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",cursor:"pointer",marginRight:"10px"},children:"Ver Carrito"}),e.jsx("button",{onClick:()=>x.visit("/"),style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",cursor:"pointer"},children:"Inicio"})]}),e.jsxs("div",{style:{display:"flex",gap:"20px"},children:[e.jsxs("div",{style:{width:"200px"},children:[e.jsx("h2",{children:"Categorías"}),e.jsx("button",{onClick:()=>a(null),style:{display:"block",width:"100%",padding:"10px",marginBottom:"5px",backgroundColor:r===null?"#007bff":"#f0f0f0",color:r===null?"white":"black",border:"none",cursor:"pointer"},children:"Todas"}),p.map(s=>e.jsx("button",{onClick:()=>a(s.id),style:{display:"block",width:"100%",padding:"10px",marginBottom:"5px",backgroundColor:r===s.id?"#007bff":"#f0f0f0",color:r===s.id?"white":"black",border:"none",cursor:"pointer"},children:s.name},s.id))]}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h2",{children:"Productos"}),l.length===0?e.jsx("p",{children:"No hay productos disponibles"}):e.jsx("div",{style:{display:"grid",gap:"15px"},children:l.map(s=>e.jsxs("div",{style:{border:"1px solid #ddd",padding:"15px",borderRadius:"5px"},children:[e.jsx("h3",{children:s.name}),e.jsx("p",{children:s.description||"Sin descripción"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Precio:"})," $",s.price]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Stock:"})," ",s.stock]}),s.category&&e.jsxs("p",{children:[e.jsx("strong",{children:"Categoría:"})," ",s.category.name]}),e.jsxs("div",{style:{marginTop:"10px",display:"flex",gap:"10px",alignItems:"center"},children:[e.jsxs("label",{children:["Cantidad:",e.jsx("input",{type:"number",min:"1",max:s.stock,value:d[s.id]||1,onChange:n=>u(s.id,n.target.value),style:{marginLeft:"5px",padding:"5px",width:"60px"}})]}),e.jsx("button",{onClick:()=>h(s.id),disabled:s.stock===0,style:{padding:"8px 15px",backgroundColor:s.stock>0?"#28a745":"#ccc",color:"white",border:"none",cursor:s.stock>0?"pointer":"not-allowed"},children:"Agregar al Carrito"})]})]},s.id))})]})]})]})}export{m as default};

import{j as e,H as l,r as s,L as p}from"./app-kKseVrtb.js";function x({orders:o}){const i=t=>({pending:"#ffc107",confirmed:"#17a2b8",preparing:"#007bff",ready:"#28a745",completed:"#28a745",cancelled:"#dc3545"})[t]||"#6c757d",r=t=>({pending:"Pendiente",confirmed:"Confirmada",preparing:"Preparando",ready:"Lista",completed:"Completada",cancelled:"Cancelada"})[t]||t,d=t=>({pending:"Pendiente",paid:"Pagado",refunded:"Reembolsado"})[t]||t,a=t=>({paypal:"PayPal",cash:"Efectivo",card:"Tarjeta"})[t]||t||"No especificado";return e.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[e.jsx(l,{title:"Historial de Órdenes"}),e.jsx("h1",{children:"Historial de Órdenes - Testing"}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("button",{onClick:()=>s.visit(route("menu.index")),style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",cursor:"pointer",marginRight:"10px"},children:"Ir al Menú"}),e.jsx("button",{onClick:()=>s.visit(route("dashboard")),style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",cursor:"pointer"},children:"Dashboard"})]}),!o||o.data.length===0?e.jsxs("div",{style:{border:"1px solid #ddd",padding:"40px",borderRadius:"5px",textAlign:"center",backgroundColor:"#f8f9fa"},children:[e.jsx("p",{style:{fontSize:"18px",color:"#6c757d"},children:"No tienes órdenes registradas"}),e.jsx("button",{onClick:()=>s.visit(route("menu.index")),style:{marginTop:"20px",padding:"12px 30px",backgroundColor:"#007bff",color:"white",border:"none",cursor:"pointer",fontSize:"16px"},children:"Ver Menú"})]}):e.jsxs("div",{children:[o.data.map(t=>e.jsxs("div",{style:{border:"2px solid #ddd",padding:"20px",marginBottom:"20px",borderRadius:"5px",backgroundColor:"#fff"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[e.jsxs("div",{children:[e.jsxs("h2",{style:{margin:0,color:"#333"},children:["Orden #",t.order_number]}),e.jsxs("p",{style:{margin:"5px 0",color:"#666",fontSize:"14px"},children:["Fecha: ",new Date(t.created_at).toLocaleString("es-MX")]})]}),e.jsx("div",{style:{textAlign:"right"},children:e.jsx("span",{style:{padding:"5px 15px",borderRadius:"20px",backgroundColor:i(t.status),color:"white",fontWeight:"bold",fontSize:"14px"},children:r(t.status)})})]}),e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Método de Pago:"})," ",a(t.payment_method)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Estado de Pago:"})," ",d(t.payment_status)]})]}),e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsx("h3",{style:{marginBottom:"10px"},children:"Items:"}),t.items&&t.items.map(n=>e.jsxs("div",{style:{border:"1px solid #eee",padding:"10px",marginBottom:"8px",borderRadius:"3px",backgroundColor:"#f8f9fa"},children:[e.jsxs("p",{style:{margin:"5px 0"},children:[e.jsx("strong",{children:n.product_name||"Producto"})," - Cantidad: ",n.quantity," x $",parseFloat(n.price||0).toFixed(2)," = $",parseFloat(n.subtotal||0).toFixed(2)]}),n.special_instructions&&e.jsx("p",{style:{margin:"5px 0",fontSize:"12px",color:"#666"},children:e.jsxs("em",{children:["Instrucciones: ",n.special_instructions]})})]},n.id))]}),e.jsxs("div",{style:{borderTop:"2px solid #007bff",paddingTop:"15px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("p",{style:{margin:"5px 0"},children:[e.jsx("strong",{children:"Subtotal:"})," $",parseFloat(t.subtotal||0).toFixed(2)]}),e.jsxs("p",{style:{margin:"5px 0"},children:[e.jsx("strong",{children:"IVA (16%):"})," $",parseFloat(t.tax||0).toFixed(2)]}),e.jsxs("p",{style:{margin:"5px 0",fontSize:"18px",fontWeight:"bold"},children:[e.jsx("strong",{children:"Total:"})," $",parseFloat(t.total||0).toFixed(2)]})]}),e.jsx(p,{href:route("order.confirmation",t.id),style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",textDecoration:"none",borderRadius:"5px",border:"none",cursor:"pointer"},children:"Ver Detalles"})]}),t.notes&&e.jsx("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#fff3cd",borderRadius:"3px"},children:e.jsxs("p",{style:{margin:0,fontSize:"14px"},children:[e.jsx("strong",{children:"Notas:"})," ",t.notes]})}),t.completed_at&&e.jsxs("p",{style:{marginTop:"10px",fontSize:"12px",color:"#28a745"},children:["✓ Completada el ",new Date(t.completed_at).toLocaleString("es-MX")]})]},t.id)),o.links&&e.jsx("div",{style:{marginTop:"30px",display:"flex",justifyContent:"center",gap:"10px"},children:o.links.map((t,n)=>e.jsx("button",{onClick:()=>t.url&&s.visit(t.url),disabled:!t.url,style:{padding:"8px 15px",backgroundColor:t.active?"#007bff":"#fff",color:t.active?"white":"#007bff",border:"1px solid #007bff",borderRadius:"5px",cursor:t.url?"pointer":"not-allowed",opacity:t.url?1:.5},dangerouslySetInnerHTML:{__html:t.label}},n))})]})]})}export{x as default};
